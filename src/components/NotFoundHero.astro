---
import { convertImages } from '../utils/utils';

/** Image imports **/
import bottomCenterSrc from '../assets/images/bottom-center.png';
import bottomLeftSrc from '../assets/images/bottom-left.png';
import bottomRightSrc from '../assets/images/bottom-right.png';
import topLeftSrc from '../assets/images/top-left.png';
import topCenterSrc from '../assets/images/top-center.png';
import topRightSrc from '../assets/images/top-right.png';
import screenLeftSrc from '../assets/images/screen-left.png';
import screenRightSrc from '../assets/images/screen-right.png';

const convertedImages = await convertImages([
  screenLeftSrc,
  screenRightSrc,
  topLeftSrc,
  topCenterSrc,
  topRightSrc,
  bottomCenterSrc,
  bottomLeftSrc,
  bottomRightSrc,
]);

const cssVars = {
  screenLeftImagePngSrc: convertedImages['screen-left'].png.cssUrl,
  screenRightImagePngSrc: convertedImages['screen-right'].png.cssUrl,
  topLeftImagePngSrc: convertedImages['top-left'].png.cssUrl,
  topCenterImagePngSrc: convertedImages['top-center'].png.cssUrl,
  topRightImagePngSrc: convertedImages['top-right'].png.cssUrl,
  bottomCenterImagePngSrc: convertedImages['bottom-center'].png.cssUrl,
  bottomLeftImagePngSrc: convertedImages['bottom-left'].png.cssUrl,
  bottomRightImagePngSrc: convertedImages['bottom-right'].png.cssUrl,
  screenLeftImageAvifSrc: convertedImages['screen-left'].avif.cssUrl,
  screenRightImageAvifSrc: convertedImages['screen-right'].avif.cssUrl,
  topLeftImageAvifSrc: convertedImages['top-left'].avif.cssUrl,
  topCenterImageAvifSrc: convertedImages['top-center'].avif.cssUrl,
  topRightImageAvifSrc: convertedImages['top-right'].avif.cssUrl,
  bottomCenterImageAvifSrc: convertedImages['bottom-center'].avif.cssUrl,
  bottomLeftImageAvifSrc: convertedImages['bottom-left'].avif.cssUrl,
  bottomRightImageAvifSrc: convertedImages['bottom-right'].avif.cssUrl,
};
---

<div class="hero">
  <div class="scanline"></div>
  <div class="screen">
    <div class="screen-top-left"></div>
    <div class="screen-top-center"></div>
    <div class="screen-top-right"></div>
    <div class="screen-left"></div>
    <div class="screen-content">
      <canvas id="typingCanvas"></canvas>
    </div>
    <div class="screen-right"></div>
    <div class="screen-bottom-left"></div>
    <div class="screen-bottom-center"></div>
    <div class="screen-bottom-right"></div>
  </div>
</div>
<script src="../scripts/not-found.ts"></script>
<style define:vars={cssVars}>
  .hero {
    min-height: 100vh;
    width: 100%;
    position: relative;
    overflow: hidden;
    background-color: #0a0a0a;
  }

  .screen {
    width: 100%;
    height: 100vh;
    display: grid;
    grid-template-areas:
      'screen-top-left screen-top-center screen-top-right'
      'screen-left screen-content screen-right'
      'screen-bottom-left screen-bottom-center screen-bottom-right';
    grid-template-columns: 4% 92% 4%;
    grid-template-rows: 20% 71% 9%;
  }

  .screen-top-center {
    grid-area: screen-top-center;
    background-image: var(--topCenterImageAvifSrc);
    background-image: var(--topCenterImagePngSrc);
    background-size: 100% 100%;
    background-repeat: no-repeat;
  }

  .screen-top-left {
    grid-area: screen-top-left;
    background-image: var(--topLeftImageAvifSrc);
    background-image: var(--topLeftImagePngSrc);
    background-size: 100% 100%;
    background-repeat: no-repeat;
  }

  .screen-top-right {
    grid-area: screen-top-right;
    background-image: var(--topRightImageAvifSrc);
    background-image: var(--topRightImagePngSrc);
    background-size: 100% 100%;
    background-repeat: no-repeat;
  }

  .screen-left {
    grid-area: screen-left;
    background-image: var(--screenLeftImageAvifSrc);
    background-image: var(--screenLeftImagePngSrc);
    background-size: 100% 100%;
    background-repeat: no-repeat;
  }

  .screen-right {
    grid-area: screen-right;
    background-image: var(--screenRightImageAvifSrc);
    background-image: var(--screenRightImagePngSrc);
    background-size: 100% 100%;
    background-repeat: no-repeat;
  }

  .screen-bottom-center {
    grid-area: screen-bottom-center;
    background-image: var(--bottomCenterImageAvifSrc);
    background-image: var(--bottomCenterImagePngSrc);
    background-size: 100% 100%;
    background-repeat: no-repeat;
  }

  .screen-bottom-left {
    grid-area: screen-bottom-left;
    background-image: var(--bottomLeftImageAvifSrc);
    background-image: var(--bottomLeftImagePngSrc);
    background-size: 100% 100%;
    background-repeat: no-repeat;
  }

  .screen-bottom-right {
    grid-area: screen-bottom-right;
    background-image: var(--bottomRightImageAvifSrc);
    background-image: var(--bottomRightImagePngSrc);
    background-size: 100% 100%;
    background-repeat: no-repeat;
  }

  .screen-content {
    grid-area: screen-content;
    perspective: 800px;
    overflow: hidden;
  }

  #typingCanvas {
    width: 100%;
    height: 100%;
    font-family: 'VT323', monospace;
  }

  @media (max-width: 768px) {
    .screen-content {
      padding: 10px;
    }
  }

  .retro-title {
    font-size: 3rem;
    color: var(--neon-pink);
    text-shadow:
      0 0 5px var(--neon-pink),
      0 0 10px var(--neon-pink),
      0 0 20px var(--neon-pink);
    letter-spacing: 2px;
  }

  .retro-button {
    background: transparent;
    border: 2px solid var(--neon-blue);
    color: var(--neon-blue);
    padding: 10px 20px;
    font-family: var(--retro-font);
    font-size: 1.2rem;
    cursor: pointer;
    transition: all 0.3s ease;
    text-transform: uppercase;
    letter-spacing: 2px;
    position: relative;
    overflow: hidden;
  }

  .retro-button:hover {
    background: var(--neon-blue);
    color: var(--dark-bg);
    box-shadow:
      0 0 10px var(--neon-blue),
      0 0 20px var(--neon-blue);
  }
</style>
