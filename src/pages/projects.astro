---
import '../styles/global.css';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro';
import { Icon } from 'astro-icon/components';
import asciitosImage from '../assets/images/projects/asciitos.png';

interface Project {
  title: string;
  description: string;
  image?: ImageMetadata | string;
  website?: string;
  github?: string;
  social?: string;
  tech?: string;
}

const projects: Project[] = [
  {
    title: 'Asciitos',
    description: `I started this project while developing a terminal-based hockey manager game, where I needed a tool to design the 
    user interface before implementing it in code. Existing tools had several limitationsâ€”for example, they didn't allow defining 
    different foreground and background colors for individual characters, which is essential for TUIs.
\
\
The project is still ongoing, it's not beatiful and really needs some work, but it's already mature enough to be used in my own development workflow.`,
    image: asciitosImage,
    website: 'https://dewa.github.io/asciitos/',
    github: 'https://github.com/DeWa/asciitos',
    tech: 'TypeScript, React, Emotion, Vite',
  },
  {
    title: 'PiBooth',
    description:
      'Photobooth application made for Raspberry Pi and Raspberry Pi camera. Used graphical UI, selectable frames and automatic upload to web',
    github: 'https://github.com/DeWa/PiBooth',
    tech: 'Python, Raspberry Pi, Kivy, AWS',
  },
  {
    title: 'More to come...',
    description: `I still have some projects that I haven't updated here, but I will add them soon.`,
  },
];
---

<html lang="en">
  <head>
    <BaseHead title="Joonas.dev - Projects" description="My projects and work" />
    <style>
      main {
        margin-top: 2rem;
        padding: 2em 0;
      }
      .projects-container {
        max-width: 1000px;
        margin: 0 auto;
        padding: 0 2em;
      }

      .projects-title {
        text-align: center;
        margin-bottom: 3em;
        font-size: 2.5rem;
        background: linear-gradient(90deg, #00fff7, #ff6ec7);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-family: var(--header-font);
      }
      .projects-list {
        display: flex;
        flex-direction: column;
        gap: 2em;
      }
      .project-card {
        background: rgba(10, 10, 20, 0.82);
        border: 1.5px solid rgba(58, 170, 255, 0.22);
        border-radius: 18px;
        box-shadow:
          0 4px 32px 0 rgba(58, 170, 255, 0.1),
          0 0 0 1.5px rgba(58, 170, 255, 0.18) inset;
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        padding: 2em;
        display: flex;
        gap: 2em;
        align-items: flex-start;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
      }
      .project-card:hover {
        border-color: rgba(58, 170, 255, 0.4);
        box-shadow:
          0 6px 40px 0 rgba(58, 170, 255, 0.15),
          0 0 0 1.5px rgba(58, 170, 255, 0.3) inset;
        transform: translateY(-2px);
      }
      .project-content {
        flex: 1;
        min-width: 0;
        position: relative;
        z-index: 2;
      }
      .project-title {
        color: var(--neon-blue);
        font-family: var(--header-font);
        font-size: 1.5rem;
        margin: 0 0 0.5em 0;
      }
      .project-description {
        color: rgb(var(--gray));
        font-size: 1.08rem;
        line-height: 1.6;
        margin-bottom: 1.5em;
      }
      .project-links {
        display: flex;
        flex-wrap: wrap;
        gap: 1em;
      }
      .project-link {
        display: inline-flex;
        align-items: center;
        gap: 0.5em;
        padding: 0.5em 1em;
        border-radius: 8px;
        font-size: 0.9rem;
        text-decoration: none;
        transition: all 0.2s ease;
        color: var(--neon-green);
        border: 1px solid rgba(57, 255, 20, 0.3);
        background: rgba(57, 255, 20, 0.1);
      }
      .project-link:hover {
        background: rgba(57, 255, 20, 0.2);
        border-color: rgba(57, 255, 20, 0.5);
        box-shadow: 0 0 8px rgba(57, 255, 20, 0.3);
        transform: translateY(-2px);
      }
      .project-link.website {
        color: var(--neon-blue);
        border-color: rgba(0, 255, 247, 0.3);
        background: rgba(0, 255, 247, 0.1);
      }
      .project-link.website:hover {
        background: rgba(0, 255, 247, 0.2);
        border-color: rgba(0, 255, 247, 0.5);
        box-shadow: 0 0 8px rgba(0, 255, 247, 0.3);
      }
      .project-link.social {
        color: #ff6ec7;
        border-color: rgba(255, 110, 199, 0.3);
        background: rgba(255, 110, 199, 0.1);
      }
      .project-link.social:hover {
        background: rgba(255, 110, 199, 0.2);
        border-color: rgba(255, 110, 199, 0.5);
        box-shadow: 0 0 8px rgba(255, 110, 199, 0.3);
      }
      .project-image {
        width: 40%;
        height: 100%;
        overflow: hidden;
        z-index: 1;
        background: linear-gradient(
          to right,
          rgba(10, 10, 20, 0.98) 0%,
          rgba(10, 10, 20, 0.9) 20%,
          rgba(10, 10, 20, 0.7) 40%,
          rgba(10, 10, 20, 0.4) 60%,
          transparent 100%
        );
        box-shadow: inset -8px 0 16px rgba(0, 0, 0, 0.3);
      }
      .project-image::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          to right,
          rgba(10, 10, 20, 0.98) 0%,
          rgba(10, 10, 20, 0.85) 25%,
          rgba(10, 10, 20, 0.6) 50%,
          rgba(10, 10, 20, 0.3) 75%,
          transparent 100%
        );
        z-index: 2;
        pointer-events: none;
      }
      .project-image::after {
        content: '';
        position: absolute;
        top: 0;
        right: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          180deg,
          transparent 0%,
          rgba(58, 170, 255, 0.05) 50%,
          rgba(0, 0, 0, 0.2) 100%
        );
        z-index: 3;
        pointer-events: none;
      }
      .project-card:hover .project-image {
        border-left-color: rgba(58, 170, 255, 0.5);
        box-shadow:
          inset -8px 0 20px rgba(0, 0, 0, 0.4),
          0 0 20px rgba(58, 170, 255, 0.1);
      }
      .project-image img,
      .project-image :global(img) {
        width: 100%;
        height: 100%;
        object-fit: cover;
        filter: brightness(0.95) contrast(1.05) saturate(1.1);
        transition: filter 0.3s ease;
      }
      .project-card:hover .project-image img,
      .project-card:hover .project-image :global(img) {
        filter: brightness(1) contrast(1.1) saturate(1.2);
      }
      @media (max-width: 720px) {
        .project-card {
          flex-direction: column;
        }
        .project-image {
          position: absolute;
          width: 100%;
          height: 250px;
          margin-top: 1em;
          border-left: none;
          border-top: 1px solid rgba(58, 170, 255, 0.3);
          background: none;
          box-shadow: none;
        }
        .project-image::before {
          background: linear-gradient(
            180deg,
            rgba(10, 10, 20, 0.98) 0%,
            rgba(10, 10, 20, 0.85) 25%,
            rgba(10, 10, 20, 0.6) 50%,
            rgba(10, 10, 20, 0.3) 75%,
            transparent 100%
          );
        }
        .project-card:hover .project-image {
          border-top-color: rgba(58, 170, 255, 0.5);
          box-shadow: 0 4px 20px rgba(58, 170, 255, 0.1);
        }
        .projects-title {
          font-size: 2rem;
        }
        .projects-container {
          padding: 0 1em;
        }
      }
    </style>
  </head>

  <body>
    <Header />
    <main>
      <section class="projects-container">
        <h1 class="projects-title">Projects</h1>
        <div class="projects-list">
          {
            projects.map((project) => (
              <article class="project-card">
                <div class="project-content">
                  <h2 class="project-title">{project.title}</h2>
                  <p class="project-description">{project.description}</p>
                  {project.tech && <p class="project-description">Tech: {project.tech}</p>}
                  <div class="project-links">
                    {project.website && (
                      <a
                        href={project.website}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="project-link website"
                      >
                        <Icon name="website" />
                        Website
                      </a>
                    )}
                    {project.github && (
                      <a
                        href={project.github}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="project-link"
                      >
                        <Icon name="github" /> GitHub
                      </a>
                    )}
                    {project.social && (
                      <a
                        href={project.social}
                        target="_blank"
                        rel="noopener noreferrer"
                        class="project-link social"
                      >
                        ðŸ”— Social
                      </a>
                    )}
                  </div>
                </div>
                {project.image && (
                  <div class="project-image">
                    {typeof project.image === 'string' ? (
                      <img src={project.image} alt={project.title} />
                    ) : (
                      <Image src={project.image} alt={project.title} width={400} height={600} />
                    )}
                  </div>
                )}
              </article>
            ))
          }
        </div>
      </section>
    </main>
    <Footer />
  </body>
</html>
